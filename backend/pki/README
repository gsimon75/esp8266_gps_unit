
0., Generate fake CA

openssl req -days 3650 -x509 -extensions v3_ca -newkey rsa:4096 -keyout fake_ca.key -out fake_ca.crt
openssl rand -hex 16 >fake_ca.srl


1., Generate server key and csr

openssl genrsa -out gps_unit_0.key 4096
openssl req -new -key gps_unit_0.key -out gps_unit_0.csr


2., Sign the csr into crt

openssl x509 -req -CAkey fake_ca.key -CA fake_ca.crt -CAserial fake_ca.srl -days 1200 -in gps_unit_0.csr -outform der -out gps_unit_0.crt.der


3., Convert the PKCS1 server key to PKCS8
openssl pkcs8 -in gps_unit_0.key -outform der -nocrypt -out gps_unit_0.key.der

